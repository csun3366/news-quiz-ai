{% extends 'base.html' %}

{% block content %}
<div class="bg-[#0F1117] min-h-screen py-16 px-6">
  <!-- 標題區 -->
  <div class="max-w-6xl mx-auto text-center mb-12 mt-24">
    <h1 class="text-3xl font-bold text-white mb-2">選擇適合你的方案</h1>
    <p class="text-gray-400">依你的需求，選擇最適合的閱讀練習方案</p>
  </div>

  <!-- 價格卡片 -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
    
    <!-- 免費版 -->
    <div class="bg-[#1C1E26] rounded-lg shadow p-6 flex flex-col">
      <h3 class="text-lg font-semibold mb-2 text-white">免費版</h3>
      <p class="text-gray-400 mb-4">入門體驗，適合想先試用的學習者</p>
      <div class="text-3xl font-bold mb-1">免費</div>
      <p class="text-sm text-gray-500 mb-6">無需信用卡</p>
      <ul class="text-sm text-gray-300 mb-6 space-y-2 flex-1">
        <li>✔ 每30天 <span class="font-bold">3 篇</span> 閱讀測驗（共四題）</li>
        <li>✔ 測驗答案與詳解</li>
        <li>✔ 單字與片語解析</li>
      </ul>
      {% if user.is_authenticated %}
      <a href="/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
      {% else %}
      <a href="/accounts/google/login/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
      {% endif %}
    </div>

    <!-- 標準版 -->
    <div class="bg-[#1C1E26] rounded-lg shadow p-6 flex flex-col relative border-2 border-blue-500">
      <span class="absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white text-xs px-3 py-1 rounded-full">推薦</span>
      <h3 class="text-lg font-semibold mb-2 text-white">標準版</h3>
      <p class="text-gray-400 mb-4">適合想提升英文閱讀能力的使用者</p>
      <div class="text-3xl font-bold mb-1">NT$50<span class="text-base font-normal">/月</span></div>
      <p class="text-sm text-gray-500 mb-6">月付方案</p>
      <ul class="text-sm text-gray-300 mb-6 space-y-2 flex-1">
        <li>✔ 每30天 <span class="font-bold">30 篇</span> 閱讀測驗（共四題）</li>
        <li>✔ 測驗答案與詳解</li>
        <li>✔ 單字與片語解析</li>
        <li>✔ 無廣告</li>
      </ul>
      {% if user.is_authenticated %}
        {% if plan == "standard" or plan == "premium" %}
          <a href="/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
        {% else %}
          <a href="{% url 'create-checkout-session' 'standard' %}" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即訂閱</a>
        {% endif %}
      {% else %}
        <a href="/accounts/google/login/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
      {% endif %}
    </div>

    <!-- 旗艦版 -->
    <div class="bg-[#1C1E26] rounded-lg shadow p-6 flex flex-col">
      <h3 class="text-lg font-semibold mb-2 text-white">旗艦版</h3>
      <p class="text-gray-400 mb-4">最完整功能，適合高強度練習者</p>
      <div class="text-3xl font-bold mb-1">NT$100<span class="text-base font-normal">/月</span></div>
      <p class="text-sm text-gray-500 mb-6">月付方案</p>
      <ul class="text-sm text-gray-300 mb-6 space-y-2 flex-1">
        <li>✔ 每30天 <span class="font-bold">100 篇</span> 閱讀測驗（共四題）</li>
        <li>✔ 測驗答案與詳解</li>
        <li>✔ 單字與片語解析</li>
        <li>✔ 無廣告</li>
      </ul>
      {% if user.is_authenticated %}
        {% if plan == "premium" %}
          <a href="/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
        {% else %}
          <a href="{% url 'create-checkout-session' 'premium' %}" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即訂閱</a>
        {% endif %}
      {% else %}
        <a href="/accounts/google/login/" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded text-center transition">立即開始</a>
      {% endif %}
    </div>

  </div>
</div>
{% endblock %}
